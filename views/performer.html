<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performer</title>
    <!-- P5 Load -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/addons/p5.sound.min.js"></script>
    <!-- SocketIO Load -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
    <!-- JQuery Load -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <!-- Prism Load -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism-funky.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/prism.min.js"></script>
    <!-- General Load -->
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="./style.css">
    <script src="./script.js"></script>
</head>
<body>
    <div id="input">
      <div id="examples">
        <span class="example" id="example1">Radial Example</span>
        <span class="example" id="example2">Blank</span>
      </div>
        <div id="instructionsContainer">
            <div id="instructionsHeader"></div>
            <div id="instructionsText"></div>
        </div>
        <pre id="codeContainer" contenteditable="true">
            <code id="codeBlock" class="language-js">
// PUT ADDITIONS TO SETUP HERE

}

// GETS VOLUME - MODIFY ONLY MULTIPLIER
function getLevel(){
    if(songPlaying){
        return amp.getLevel()*10;
    } else { // Gets mic level
        return mic.getLevel()*100;
    }
}

// DRAW LOOP
function draw() {
  // Set volume variable from function
  let vol = getLevel();
  
  // Background color
  background(30);
  
  // Loop to create multiple circles
	for(var i=0;i<100;i++){
    
    //Draw Outer Ellipses
      // Color interior
      fill(30);
      // Color stroke
      stroke(240);
      // Calculate circle radius
      ellipseRadius = (ellipseWidth%i)*4*vol;
      // Draw circle
      ellipse((windowWidth / 2), (windowHeight / 2), ellipseRadius, ellipseRadius);
    
  	//Draw Inner Ellipses
      // Color stroke
      stroke(255,0,0);
      // Calculate circle radius
      ellipseRadius = (ellipseWidth%i)*3*vol;
      // Draw circle
      ellipse((windowWidth / 2), (windowHeight / 2), ellipseRadius, ellipseRadius);
  
  }

  // Make circles larger over time
  ellipseWidth++;

  // Reset circle size when too large
  if(ellipseWidth>920){
    ellipseWidth=1;
  }
  
}

            </code>
        </pre>
    </div>
    <iframe id="output" sandbox="allow-same-origin allow-scripts" volume="0"></iframe>
</body>
</html>